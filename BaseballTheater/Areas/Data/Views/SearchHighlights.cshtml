@using System.Data
@model System.Data.DataTable

@{
	Layout = "_DataLayout.cshtml";

	var rows = new List<Dictionary<string, object>>();

	foreach (DataRow dr in Model.Rows)
	{
		var row = new Dictionary<string, object>();
		foreach (DataColumn col in Model.Columns)
		{
			row.Add(col.ColumnName, dr[col]);
		}
		rows.Add(row);
	}

	var json = Json.Encode(rows);
}

@Html.Raw(json)