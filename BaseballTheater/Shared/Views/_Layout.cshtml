@using System.Web.Optimization;

@model BaseballTheater.Shared.Models.BaseModel

@{
	Layout = null;

	ViewBag.Title = ViewBag.Title != null ? ViewBag.Title + " | Baseball Theather" : "Baseball Theater";

	ViewBag.BodyClass = ViewBag.BodyClass ?? "";

	var description = ViewBag.Description ?? "Video highlights for all baseball games!";
}

<!DOCTYPE html>

<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<title>@ViewBag.Title</title>

	@Html.Partial("_favicons")

	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="/images/ms-icon-144x144.png">
	<meta name="theme-color" content="#9e1414">
	<meta name="Description" content="@description" />
		
	@Styles.Render("~/stylebundles/scss")
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	@RenderSection("ExtraHead", false)

	<title>@ViewBag.Title</title>
</head>
<body class="@ViewBag.BodyClass">


<header>
	<div class="header-content">
		<div class="mobile-menu-trigger">
			<i class="material-icons">menu</i>
		</div>
		<a class="logo-link" href="/"> Baseball Theater
		</a>
		
		<div class="search">
			<input type="text" required />
			<div class="label">
				<i class="material-icons">search</i> <span>Search</span>
			</div>
		</div>

		<div class="right">
			<a class="login button" href="https://www.patreon.com/oauth2/authorize?response_type=code&client_id=4f3fb1d9df8f53406f60617258e66ef5cba993b1aa72d2e32e66a1b5be0b9008&redirect_uri=https://baseball.theater">
				Log in with Patreon
			</a>
		</div>
	</div>
</header>
<div id="body-wrapper">
	<div class="loading-spinner">
		<img src="~/images/ring.svg" />
	</div>
	<div id="body-content">
		@RenderBody()
	</div>
</div>

<footer>

	@*@Html.Partial("_patreon")*@
	<br /><br />
	Created by <a href="https://github.com/jakelauer/"> Jake Lauer</a> (<a href="http://reddit.com/u/HelloControl_">/u/HelloControl</a>)
	<br /><br />
	<div class="links">
		<a href="https://github.com/BaseballTheater" target="_blank">
			Contribute on GitHub
		</a>
	</div>
</footer>


<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-23730353-4', 'auto');
	ga('send', 'pageview');

</script>
	
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.2/react.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.2/react-dom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/remarkable/1.7.1/remarkable.min.js"></script>
	
@Scripts.Render("~/scriptbundles/lib")

<script src="~/signalr/hubs"></script>

@RenderSection("Scripts", false)
	
	
<script>
	var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
	if (location.hostname === "baseball.theater" && location.pathname === "/" && isChrome)
	{
		window.addEventListener('load',
			function() {
				var outputElement = document.getElementById('output');

				navigator.serviceWorker.register('/Shared/Scripts/sw.js', { scope: '/Shared/Scripts/' })
					.then(function(r) {
						console.log('registered service worker');
					})
					.catch(function(whut) {
						console.error('uh oh... ');
						console.error(whut);
					});

				window.addEventListener('beforeinstallprompt',
					function(e) {
						outputElement.textContent = 'beforeinstallprompt Event fired';
					});
			});
	}
</script>


</body>

</html>